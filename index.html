<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>Javascript Practice Part 1</title>
</head>
<body style="background-color: #d8d8ff; font-size: 20px; font-family: consolas";>
<h1 style="text-align: center; font-size: 45px; font-family: verdana";> Quick Pick </h1>
	<script language="javascript">
		var arr = [], num, numLucky;
		// 5 random and 1 lucky number into array
		for(i = 0; i < 6; i++) {
			if(i == 5) {
				num = Math.floor(Math.random() * 18) + 1;
				numLucky = num;
			} else {
	    		num = Math.floor(Math.random() * 48) + 1;
			}
	    	
	    	if(arr.indexOf(num) === -1)
	    		arr.push(num);
	    	else 
	    		i--;
		}

		// printing unsorted array
		document.write("Unsorted array:");
	    document.write("<br>");
		for (var i = 0; i < 6; i++) {
			document.write(arr[i]);
			if(i < 5)
				document.write(", ");
		}
	    
	    // sorting the array
	    for (var i = 0; i < 6; i++) {
	    	for(var j = 0 ; j < 6 - i - 1; j++) {
	    		if (arr[j] > arr[j + 1]) {
	        		var temp = arr[j];
	        		arr[j] = arr[j + 1];
	        		arr[j + 1] = temp;
	        	}
	        }
	    }

	    // printing sorted array
	    document.write("<br> <br>");
	    document.write("Sorted array:");
	    document.write("<br>");
	    for (var i = 0; i < 6; i++) {
			document.write(arr[i]);
			if(i < 5)
				document.write(", ");
		}
		document.write("<br> <br>" );
		document.write("The Lucky Ball is " + numLucky + ".");
	</script>
	
	<form>
		<br>
		<label for="numbers">Enter 5 Numbers</label><br>
		<input type="text" id="numbers" name="numbers"><br>
		<label for="lucky">Enter Lucky Ball</label><br>
		<input type="text" id="lucky" name="lucky"><br><br>
		<input type="button" value="Payout" onclick="getPayout()">
	</form>

	<script language="javascript">
		// payout calculator function
		function getPayout() {
			var matches = getMatches();
			var lucky = document.getElementById('lucky').value;
			if(matches == 2 && lucky != numLucky)
				alert("2 matches, no luckyball.\n1/14 chance.\nYou won $3!");
			if(matches == 3 && lucky != numLucky)
				alert("3 matches, no luckyball.\n1/200 chance.\nYou won $20!");
			if(matches == 4 && lucky != numLucky)
				alert("4 matches, no luckyball.\n1/8432 chance.\nYou won $200!");
			if(matches == 5 && lucky != numLucky)
				alert("5 matches, no luckyball.\n1/1,813,027 chance.\nYou won $25,000 a YEAR for LIFE!");
			if(matches == 0 && lucky == numLucky)
				alert("0 matches + luckyball.\n1/32 chance.\nYou won $4!");
			if(matches == 1 && lucky == numLucky)
				alert("1 match + luckyball.\n1/49 chance.\nYou won $6!");
			if(matches == 2 && lucky == numLucky)
				alert("2 matches + luckyball.\n1/249 chance.\nYou won $25!");
			if(matches == 3 && lucky == numLucky)
				alert("3 matches + luckyball.\n1/3413 chance.\nYou won $150!");
			if(matches == 4 && lucky == numLucky)
				alert("4 matches + luckyball.\n1/143,355 chance.\nYou won $4000!");
			if(matches == 5 && lucky == numLucky)
				alert("5 matches + luckyball.\n1/30,821,472 chance.\nYou won $7000 a WEEK for LIFE!");
			if(matches == 0 && lucky != numLucky)
				alert("0 matches, no luckyball.\nSorry you didn't win :(");	
		}

		// gets number of matches for numbers excluding lucky ball
		function getMatches() {
			var nums = document.getElementById('numbers').value;
			var lucky = document.getElementById('lucky').value;
			var compare, counter = 0;
			for(i = 0; i < 6; i++) {
				for(j = 0; j < nums.length; j++) {
					if(nums[j] == " ")
						j++;

					if(j < nums.length - 1 && nums[j+1] != " ") {
						compare = nums[j] + nums[j+1];
						j++
					} else {
						compare = nums[j];
					}
					
					if(compare == arr[i] && arr[i] != numLucky)
						counter++;
				}
			}
			return counter;
		}
	</script>

</body>
</html>
